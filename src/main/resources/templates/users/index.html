<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{fragments\fragments :: head(title = 'Operatori')}">
</head>

<body>
	<header th:replace="~{fragments\fragments :: header}"></header>
    
    <main class="d-flex">
	    <!-- Sidebar -->
		<th:block th:replace="~{fragments\fragments :: sidebar(title = 'Operatori')}"></th:block>
		
		<!-- Content -->
        <div class="container text-center row justify-content-center">

			<!-- Alert -->
			<th:block th:if="${alertMessage} != null">
				<div class="col-8 mx-auto" th:insert="~{fragments\fragments :: alert(${alertMessage}, ${alertClass})}"></div>
			</th:block>
			<!-- /Alert -->

            <h1 class="mt-4 mb-3">Lista Operatori</h1>
            <!-- Operators List -->
			<div class="col-8 ">
				<table class="table table-striped table-bordered mb-3">
				  <thead>
					<tr>
						<th>Codice Operatore</th>
						<th>Nome</th>
						<th>Stato</th>
						<th></th>
					</tr>
				  </thead>
				  <tbody>
					<tr th:each=" operator : ${operators}" th:object="${operator}">
						<td>[[ *{id} ]]</td>
						<td>[[ *{firstName} ]] [[ *{lastName} ]]</td>
						<td>
							<span th:if="${operator.isActive}" class="badge text-bg-success">Attivo</span>
							<span th:unless="${operator.isActive}" class="badge text-bg-danger">Non attivo</span>
						</td>
						<td>
							<a class="btn btn-primary btn-sm" th:href="@{/users/{id}(id = ${operator.id})}">Visualizza dettagli</a>
						</td>
					</tr>
				  </tbody>
				</table>
				
				<a class="btn btn-primary btn" th:href="@{/users/create}" role="button">Crea nuovo operatore</a>
			</div>
			<!-- /Operators List -->
        </div>
		<!-- /Content -->
    </main>

    <th:block th:replace="~{fragments\fragments :: scripts}"></th:block>
</body>
</html>
